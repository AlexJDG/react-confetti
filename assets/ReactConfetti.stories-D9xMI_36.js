var ke=Object.defineProperty;var Je=(i,e,t)=>e in i?ke(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var u=(i,e,t)=>Je(i,typeof e!="symbol"?e+"":e,t);import{r as P,b as Ze,R as y,a as V,g as et}from"./index-DlA0hZqf.js";import{v as tt}from"./v4-CQkTLCs1.js";var W=function(i,e){return W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},W(i,e)};function _e(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");W(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var A=function(){return A=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},A.apply(this,arguments)};function Oe(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(i);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(i,n[o])&&(t[n[o]]=i[n[o]]);return t}function Pe(i,e,t,n){var o=arguments.length,r=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,t,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(r=(o<3?a(r):o>3?a(e,t,r):a(e,t))||r);return o>3&&r&&Object.defineProperty(e,t,r),r}function Ee(i,e){return function(t,n){e(t,n,i)}}function Se(i,e,t,n,o,r){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var s=n.kind,f=s==="getter"?"get":s==="setter"?"set":"value",c=!e&&i?n.static?i:i.prototype:null,l=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),p,v=!1,h=t.length-1;h>=0;h--){var d={};for(var m in n)d[m]=m==="access"?{}:n[m];for(var m in n.access)d.access[m]=n.access[m];d.addInitializer=function(w){if(v)throw new TypeError("Cannot add initializers after decoration has completed");r.push(a(w||null))};var g=(0,t[h])(s==="accessor"?{get:l.get,set:l.set}:l[f],d);if(s==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(p=a(g.get))&&(l.get=p),(p=a(g.set))&&(l.set=p),(p=a(g.init))&&o.unshift(p)}else(p=a(g))&&(s==="field"?o.unshift(p):l[f]=p)}c&&Object.defineProperty(c,n.name,l),v=!0}function be(i,e,t){for(var n=arguments.length>2,o=0;o<e.length;o++)t=n?e[o].call(i,t):e[o].call(i);return n?t:void 0}function Re(i){return typeof i=="symbol"?i:"".concat(i)}function Me(i,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function xe(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function Ie(i,e,t,n){function o(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function s(l){try{c(n.next(l))}catch(p){a(p)}}function f(l){try{c(n.throw(l))}catch(p){a(p)}}function c(l){l.done?r(l.value):o(l.value).then(s,f)}c((n=n.apply(i,e||[])).next())})}function De(i,e){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,o,r,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return f([c,l])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,o&&(r=c[0]&2?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){t.label=c[1];break}if(c[0]===6&&t.label<r[1]){t.label=r[1],r=c;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(c);break}r[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(i,t)}catch(l){c=[6,l],o=0}finally{n=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Y=Object.create?function(i,e,t,n){n===void 0&&(n=t);var o=Object.getOwnPropertyDescriptor(e,t);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,n,o)}:function(i,e,t,n){n===void 0&&(n=t),i[n]=e[t]};function Ce(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Y(e,i,t)}function B(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var n=t.call(i),o,r=[],a;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)r.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return r}function je(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat($(arguments[e]));return i}function Te(){for(var i=0,e=0,t=arguments.length;e<t;e++)i+=arguments[e].length;for(var n=Array(i),o=0,e=0;e<t;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)n[o]=r[a];return n}function Fe(i,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,r;n<o;n++)(r||!(n in e))&&(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return i.concat(r||Array.prototype.slice.call(e))}function E(i){return this instanceof E?(this.v=i,this):new E(i)}function Ae(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(i,e||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(h){return function(d){return Promise.resolve(d).then(h,p)}}function s(h,d){n[h]&&(o[h]=function(m){return new Promise(function(g,w){r.push([h,m,g,w])>1||f(h,m)})},d&&(o[h]=d(o[h])))}function f(h,d){try{c(n[h](d))}catch(m){v(r[0][3],m)}}function c(h){h.value instanceof E?Promise.resolve(h.value.v).then(l,p):v(r[0][2],h)}function l(h){f("next",h)}function p(h){f("throw",h)}function v(h,d){h(d),r.shift(),r.length&&f(r[0][0],r[0][1])}}function Be(i){var e,t;return e={},n("next"),n("throw",function(o){throw o}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(o,r){e[o]=i[o]?function(a){return(t=!t)?{value:E(i[o](a)),done:!1}:r?r(a):a}:r}}function Ve(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof B=="function"?B(i):i[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=i[r]&&function(a){return new Promise(function(s,f){a=i[r](a),o(s,f,a.done,a.value)})}}function o(r,a,s,f){Promise.resolve(f).then(function(c){r({value:c,done:s})},a)}}function Ye(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}var nt=Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e},H=function(i){return H=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},H(i)};function qe(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t=H(i),n=0;n<t.length;n++)t[n]!=="default"&&Y(e,i,t[n]);return nt(e,i),e}function Ue(i){return i&&i.__esModule?i:{default:i}}function Ne(i,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!n:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(i):n?n.value:e.get(i)}function We(i,e,t,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!o:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(i,t):o?o.value=t:e.set(i,t),t}function He(i,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?e===i:i.has(e)}function Le(i,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,o;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],t&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(r){return Promise.reject(r)}}),i.stack.push({value:e,dispose:n,async:t})}else t&&i.stack.push({async:!0});return e}var rt=typeof SuppressedError=="function"?SuppressedError:function(i,e,t){var n=new Error(t);return n.name="SuppressedError",n.error=i,n.suppressed=e,n};function $e(i){function e(r){i.error=i.hasError?new rt(r,i.error,"An error was suppressed during disposal."):r,i.hasError=!0}var t,n=0;function o(){for(;t=i.stack.pop();)try{if(!t.async&&n===1)return n=0,i.stack.push(t),Promise.resolve().then(o);if(t.dispose){var r=t.dispose.call(t.value);if(t.async)return n|=2,Promise.resolve(r).then(o,function(a){return e(a),o()})}else n|=1}catch(a){e(a)}if(n===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return o()}function Xe(i,e){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,o,r,a){return n?e?".jsx":".js":o&&(!r||!a)?t:o+r+"."+a.toLowerCase()+"js"}):i}const it={__extends:_e,__assign:A,__rest:Oe,__decorate:Pe,__param:Ee,__esDecorate:Se,__runInitializers:be,__propKey:Re,__setFunctionName:Me,__metadata:xe,__awaiter:Ie,__generator:De,__createBinding:Y,__exportStar:Ce,__values:B,__read:$,__spread:je,__spreadArrays:Te,__spreadArray:Fe,__await:E,__asyncGenerator:Ae,__asyncDelegator:Be,__asyncValues:Ve,__makeTemplateObject:Ye,__importStar:qe,__importDefault:Ue,__classPrivateFieldGet:Ne,__classPrivateFieldSet:We,__classPrivateFieldIn:He,__addDisposableResource:Le,__disposeResources:$e,__rewriteRelativeImportExtension:Xe},ot=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Le,get __assign(){return A},__asyncDelegator:Be,__asyncGenerator:Ae,__asyncValues:Ve,__await:E,__awaiter:Ie,__classPrivateFieldGet:Ne,__classPrivateFieldIn:He,__classPrivateFieldSet:We,__createBinding:Y,__decorate:Pe,__disposeResources:$e,__esDecorate:Se,__exportStar:Ce,__extends:_e,__generator:De,__importDefault:Ue,__importStar:qe,__makeTemplateObject:Ye,__metadata:xe,__param:Ee,__propKey:Re,__read:$,__rest:Oe,__rewriteRelativeImportExtension:Xe,__runInitializers:be,__setFunctionName:Me,__spread:je,__spreadArray:Fe,__spreadArrays:Te,__values:B,default:it},Symbol.toStringTag,{value:"Module"}));function at(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];i&&i.addEventListener&&i.addEventListener.apply(i,e)}function st(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];i&&i.removeEventListener&&i.removeEventListener.apply(i,e)}var q=typeof window<"u",ct=function(i){P.useEffect(i,[])},ut=function(i){var e=P.useRef(i);e.current=i,ct(function(){return function(){return e.current()}})},ft=function(i){var e=P.useRef(0),t=P.useState(i),n=t[0],o=t[1],r=P.useCallback(function(a){cancelAnimationFrame(e.current),e.current=requestAnimationFrame(function(){o(a)})},[]);return ut(function(){cancelAnimationFrame(e.current)}),[n,r]};const X=Ze(ot);var z=function(i){var e={},t=e.initialWidth,n=t===void 0?1/0:t,o=e.initialHeight,r=o===void 0?1/0:o,a=e.onChange,s=ft({width:q?window.innerWidth:n,height:q?window.innerHeight:r}),f=s[0],c=s[1];return P.useEffect(function(){if(q){var l=function(){var p=window.innerWidth,v=window.innerHeight;c({width:p,height:v}),a&&a(p,v)};return at(window,"resize",l),function(){st(window,"resize",l)}}},[]),f},U,k;function lt(){if(k)return U;k=1;var i={linear:function(e,t,n,o){var r=n-t;return r*e/o+t},easeInQuad:function(e,t,n,o){var r=n-t;return r*(e/=o)*e+t},easeOutQuad:function(e,t,n,o){var r=n-t;return-r*(e/=o)*(e-2)+t},easeInOutQuad:function(e,t,n,o){var r=n-t;return(e/=o/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,o){var r=n-t;return r*(e/=o)*e*e+t},easeOutCubic:function(e,t,n,o){var r=n-t;return r*((e=e/o-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,o){var r=n-t;return(e/=o/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,o){var r=n-t;return r*(e/=o)*e*e*e+t},easeOutQuart:function(e,t,n,o){var r=n-t;return-r*((e=e/o-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,o){var r=n-t;return(e/=o/2)<1?r/2*e*e*e*e+t:-r/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,o){var r=n-t;return r*(e/=o)*e*e*e*e+t},easeOutQuint:function(e,t,n,o){var r=n-t;return r*((e=e/o-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,o){var r=n-t;return(e/=o/2)<1?r/2*e*e*e*e*e+t:r/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,o){var r=n-t;return-r*Math.cos(e/o*(Math.PI/2))+r+t},easeOutSine:function(e,t,n,o){var r=n-t;return r*Math.sin(e/o*(Math.PI/2))+t},easeInOutSine:function(e,t,n,o){var r=n-t;return-r/2*(Math.cos(Math.PI*e/o)-1)+t},easeInExpo:function(e,t,n,o){var r=n-t;return e==0?t:r*Math.pow(2,10*(e/o-1))+t},easeOutExpo:function(e,t,n,o){var r=n-t;return e==o?t+r:r*(-Math.pow(2,-10*e/o)+1)+t},easeInOutExpo:function(e,t,n,o){var r=n-t;return e===0?t:e===o?t+r:(e/=o/2)<1?r/2*Math.pow(2,10*(e-1))+t:r/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,o){var r=n-t;return-r*(Math.sqrt(1-(e/=o)*e)-1)+t},easeOutCirc:function(e,t,n,o){var r=n-t;return r*Math.sqrt(1-(e=e/o-1)*e)+t},easeInOutCirc:function(e,t,n,o){var r=n-t;return(e/=o/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+t:r/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,o){var r=n-t,a,s,f;return f=1.70158,s=0,a=r,e===0?t:(e/=o)===1?t+r:(s||(s=o*.3),a<Math.abs(r)?(a=r,f=s/4):f=s/(2*Math.PI)*Math.asin(r/a),-(a*Math.pow(2,10*(e-=1))*Math.sin((e*o-f)*(2*Math.PI)/s))+t)},easeOutElastic:function(e,t,n,o){var r=n-t,a,s,f;return f=1.70158,s=0,a=r,e===0?t:(e/=o)===1?t+r:(s||(s=o*.3),a<Math.abs(r)?(a=r,f=s/4):f=s/(2*Math.PI)*Math.asin(r/a),a*Math.pow(2,-10*e)*Math.sin((e*o-f)*(2*Math.PI)/s)+r+t)},easeInOutElastic:function(e,t,n,o){var r=n-t,a,s,f;return f=1.70158,s=0,a=r,e===0?t:(e/=o/2)===2?t+r:(s||(s=o*(.3*1.5)),a<Math.abs(r)?(a=r,f=s/4):f=s/(2*Math.PI)*Math.asin(r/a),e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*o-f)*(2*Math.PI)/s))+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*o-f)*(2*Math.PI)/s)*.5+r+t)},easeInBack:function(e,t,n,o,r){var a=n-t;return r===void 0&&(r=1.70158),a*(e/=o)*e*((r+1)*e-r)+t},easeOutBack:function(e,t,n,o,r){var a=n-t;return r===void 0&&(r=1.70158),a*((e=e/o-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(e,t,n,o,r){var a=n-t;return r===void 0&&(r=1.70158),(e/=o/2)<1?a/2*(e*e*(((r*=1.525)+1)*e-r))+t:a/2*((e-=2)*e*(((r*=1.525)+1)*e+r)+2)+t},easeInBounce:function(e,t,n,o){var r=n-t,a;return a=i.easeOutBounce(o-e,0,r,o),r-a+t},easeOutBounce:function(e,t,n,o){var r=n-t;return(e/=o)<1/2.75?r*(7.5625*e*e)+t:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+t:r*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,o){var r=n-t,a;return e<o/2?(a=i.easeInBounce(e*2,0,r,o),a*.5+t):(a=i.easeOutBounce(e*2-o,0,r,o),a*.5+r*.5+t)}};return U=i,U}var ht=lt();function pt(i){return i*Math.PI/180}function O(i,e){return i+Math.random()*(e-i)}function G(i,e){return Math.floor(i+Math.random()*(e-i+1))}class dt{constructor(e,t,n,o){u(this,"context");u(this,"radius");u(this,"x");u(this,"y");u(this,"w");u(this,"h");u(this,"vx");u(this,"vy");u(this,"shape");u(this,"angle");u(this,"angularSpin");u(this,"color");u(this,"rotateY");u(this,"rotationDirection");u(this,"getOptions");this.getOptions=t;const{colors:r,initialVelocityX:a,initialVelocityY:s}=this.getOptions();this.context=e,this.x=n,this.y=o,this.w=O(5,20),this.h=O(5,20),this.radius=O(5,10),this.vx=typeof a=="number"?O(-a,a):O(a.min,a.max),this.vy=typeof s=="number"?O(-s,0):O(s.min,s.max),this.shape=G(0,2),this.angle=pt(O(0,360)),this.angularSpin=O(-.2,.2),this.color=r[Math.floor(Math.random()*r.length)],this.rotateY=O(0,1),this.rotationDirection=O(0,1)?1:-1}update(){const{gravity:e,wind:t,friction:n,opacity:o,drawShape:r}=this.getOptions();this.x+=this.vx,this.y+=this.vy,this.vy+=e,this.vx+=t,this.vx*=n,this.vy*=n,this.rotateY>=1&&this.rotationDirection===1?this.rotationDirection=-1:this.rotateY<=-1&&this.rotationDirection===-1&&(this.rotationDirection=1);const a=.1*this.rotationDirection;if(this.rotateY+=a,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=o,this.context.lineCap="round",this.context.lineWidth=2,r&&typeof r=="function")r.call(this,this.context);else switch(this.shape){case 0:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case 1:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case 2:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class yt{constructor(e,t){u(this,"canvas");u(this,"context");u(this,"getOptions");u(this,"x",0);u(this,"y",0);u(this,"w",0);u(this,"h",0);u(this,"lastNumberOfPieces",0);u(this,"tweenInitTime",Date.now());u(this,"particles",[]);u(this,"particlesGenerated",0);u(this,"removeParticleAt",e=>{this.particles.splice(e,1)});u(this,"getParticle",()=>{const e=O(this.x,this.w+this.x),t=O(this.y,this.h+this.y);return new dt(this.context,this.getOptions,e,t)});u(this,"animate",()=>{const{canvas:e,context:t,particlesGenerated:n,lastNumberOfPieces:o}=this,{run:r,recycle:a,numberOfPieces:s,debug:f,tweenFunction:c,tweenDuration:l}=this.getOptions();if(!r)return!1;const p=this.particles.length,v=a?p:n,h=Date.now();if(v<s){o!==s&&(this.tweenInitTime=h,this.lastNumberOfPieces=s);const{tweenInitTime:d}=this,m=h-d>l?l:Math.max(0,h-d),g=c(m,v,s,l),w=Math.round(g-v);for(let b=0;b<w;b++)this.particles.push(this.getParticle());this.particlesGenerated+=w}return f&&(t.font="12px sans-serif",t.fillStyle="#333",t.textAlign="right",t.fillText(`Particles: ${p}`,e.width-10,e.height-20)),this.particles.forEach((d,m)=>{d.update(),(d.y>e.height||d.y<-100||d.x>e.width+100||d.x<-100)&&(a&&v<=s?this.particles[m]=this.getParticle():this.removeParticleAt(m))}),p>0||v<s});this.canvas=e;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.getOptions=t}}const Q={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:ht.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class mt{constructor(e,t){u(this,"canvas");u(this,"context");u(this,"_options");u(this,"generator");u(this,"rafId");u(this,"lastFrameTime",Date.now());u(this,"setOptionsWithDefaults",e=>{const t={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...t,...Q,...e},Object.assign(this,e.confettiSource)});u(this,"update",()=>{const{options:{run:e,onConfettiComplete:t,frameRate:n},canvas:o,context:r}=this;if(n){const a=Date.now(),s=a-this.lastFrameTime;if(s<1e3/n){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=a-s%n}e&&(r.fillStyle="white",r.clearRect(0,0,o.width,o.height)),this.generator.animate()?this.rafId=requestAnimationFrame(this.update):(t&&typeof t=="function"&&this.generator.particlesGenerated>0&&t.call(this,this),this._options.run=!1)});u(this,"reset",()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)});u(this,"stop",()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)});this.canvas=e;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.generator=new yt(this.canvas,()=>this.options),this.options=t,this.update()}get options(){return this._options}set options(e){var o,r;const t=(o=this._options)==null?void 0:o.run,n=(r=this._options)==null?void 0:r.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&n===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&t===!1&&this.update()}}const vt=y.createRef();class L extends y.Component{constructor(t){super(t);u(this,"canvas",y.createRef());u(this,"confetti");this.canvas=t.canvasRef||vt}componentDidMount(){if(this.canvas.current){const t=N(this.props)[0];this.confetti=new mt(this.canvas.current,t)}}componentDidUpdate(){const t=N(this.props)[0];this.confetti&&(this.confetti.options=t)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[t,n]=N(this.props),o={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...n.style};return y.createElement("canvas",{width:t.width,height:t.height,ref:this.canvas,...n,style:o})}}u(L,"defaultProps",{...Q}),u(L,"displayName","ReactConfetti");function N(i){const e={},t={},n={},o=[...Object.keys(Q),"confettiSource","drawShape","onConfettiComplete","frameRate"],r=["canvasRef"];for(const a in i){const s=i[a];o.includes(a)?e[a]=s:r.includes(a)?r[a]=s:n[a]=s}return[e,n,t]}const S=y.forwardRef((i,e)=>y.createElement(L,{canvasRef:e,...i}));S.__docgenInfo={description:"",methods:[],displayName:"ReactConfetti",props:{canvasRef:{required:!1,tsType:{name:"ReactRef",raw:"React.Ref<HTMLCanvasElement>",elements:[{name:"HTMLCanvasElement"}]},description:""}}};var R={},M={},x={},I={},J;function gt(){if(J)return I;J=1,Object.defineProperty(I,"__esModule",{value:!0});var i=V(),e=function(t){i.useEffect(t,[])};return I.default=e,I}var Z;function wt(){if(Z)return x;Z=1,Object.defineProperty(x,"__esModule",{value:!0});var i=X,e=V(),t=i.__importDefault(gt()),n=function(o){var r=e.useRef(o);r.current=o,t.default(function(){return function(){return r.current()}})};return x.default=n,x}var ee;function _t(){if(ee)return M;ee=1,Object.defineProperty(M,"__esModule",{value:!0});var i=X,e=V(),t=i.__importDefault(wt()),n=function(o){var r=e.useRef(0),a=e.useState(o),s=a[0],f=a[1],c=e.useCallback(function(l){cancelAnimationFrame(r.current),r.current=requestAnimationFrame(function(){f(l)})},[]);return t.default(function(){cancelAnimationFrame(r.current)}),[s,c]};return M.default=n,M}var _={},te;function Ot(){if(te)return _;te=1,Object.defineProperty(_,"__esModule",{value:!0}),_.isNavigator=_.isBrowser=_.off=_.on=_.noop=void 0;var i=function(){};_.noop=i;function e(n){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];n&&n.addEventListener&&n.addEventListener.apply(n,o)}_.on=e;function t(n){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];n&&n.removeEventListener&&n.removeEventListener.apply(n,o)}return _.off=t,_.isBrowser=typeof window<"u",_.isNavigator=typeof navigator<"u",_}var ne;function Pt(){if(ne)return R;ne=1,Object.defineProperty(R,"__esModule",{value:!0});var i=X,e=V(),t=i.__importDefault(_t()),n=Ot(),o=function(r){var a=t.default({docX:0,docY:0,posX:0,posY:0,elX:0,elY:0,elH:0,elW:0}),s=a[0],f=a[1];return e.useEffect(function(){var c=function(l){if(r&&r.current){var p=r.current.getBoundingClientRect(),v=p.left,h=p.top,d=p.width,m=p.height,g=v+window.pageXOffset,w=h+window.pageYOffset,b=l.pageX-g,Ke=l.pageY-w;f({docX:l.pageX,docY:l.pageY,posX:g,posY:w,elX:b,elY:Ke,elH:m,elW:d})}};return n.on(document,"mousemove",c),function(){n.off(document,"mousemove",c)}},[r]),s};return R.default=o,R}var Et=Pt();const St=et(Et),ze=i=>{const e=P.useRef(null),{docX:t}=St(e),{width:n,height:o}=z(),r=t?{confettiSource:{w:50,h:0,x:t,y:-10}}:{run:!1};return y.createElement("div",{style:{minHeight:200,width:"100%"}},y.createElement("p",{style:{textAlign:"center",fontFamily:"sans-serif",color:"#999",margin:"20%"}},"Move your mouse"),y.createElement(S,{...i,width:n,height:o,style:{pointerEvents:"none"},ref:e,gravity:.5,...r}))};ze.__docgenInfo={description:"",methods:[],displayName:"MouseRain"};const{addons:bt}=__STORYBOOK_MODULE_PREVIEW_API__,{ImplicitActionsDuringRendering:Rt}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__,{global:re}=__STORYBOOK_MODULE_GLOBAL__;var Mt="storybook/actions",xt=`${Mt}/action-event`,It={depth:10,clearOnStoryChange:!0,limit:50},Ge=(i,e)=>{let t=Object.getPrototypeOf(i);return!t||e(t)?t:Ge(t,e)},Dt=i=>!!(typeof i=="object"&&i&&Ge(i,e=>/^Synthetic(?:Base)?Event$/.test(e.constructor.name))&&typeof i.persist=="function"),Ct=i=>{if(Dt(i)){let e=Object.create(i.constructor.prototype,Object.getOwnPropertyDescriptors(i));e.persist();let t=Object.getOwnPropertyDescriptor(e,"view"),n=t==null?void 0:t.value;return typeof n=="object"&&(n==null?void 0:n.constructor.name)==="Window"&&Object.defineProperty(e,"view",{...t,value:Object.create(n.constructor.prototype)}),e}return i},jt=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?tt():Date.now().toString(36)+Math.random().toString(36).substring(2);function ie(i,e={}){let t={...It,...e},n=function(...o){var p,v;if(e.implicit){let h=(p="__STORYBOOK_PREVIEW__"in re?re.__STORYBOOK_PREVIEW__:void 0)==null?void 0:p.storyRenders.find(d=>d.phase==="playing"||d.phase==="rendering");if(h){let d=!((v=window==null?void 0:window.FEATURES)!=null&&v.disallowImplicitActionsInRenderV8),m=new Rt({phase:h.phase,name:i,deprecated:d});if(d)console.warn(m);else throw m}}let r=bt.getChannel(),a=jt(),s=5,f=o.map(Ct),c=o.length>1?f:f[0],l={id:a,count:0,data:{name:i,args:c},options:{...t,maxDepth:s+(t.depth||3),allowFunction:t.allowFunction||!1}};r.emit(xt,l)};return n.isAction=!0,n.implicit=e.implicit,n}const K=y.forwardRef((i,e)=>{const{width:t,height:n}=z();return y.createElement(S,{...i,ref:e,width:t,height:n})}),Qe=()=>{const[i,e]=P.useState(!1),t=ie("letsGetThisPartyStarted"),n=ie("onConfettiComplete");return y.createElement("div",{className:`root${i?" party":""}`},y.createElement(K,{style:{pointerEvents:"none"},numberOfPieces:i?500:0,recycle:!1,onConfettiComplete:o=>{n(o),e(!1),o.reset()}}),y.createElement("div",{className:"party-container"},y.createElement("button",{type:"button",onClick:()=>{t(),e(!i)},className:"party-button"},"Party")))};Qe.__docgenInfo={description:"",methods:[],displayName:"PartyMode"};const Yt={title:"ReactConfetti",component:S,parameters:{layout:"fullscreen",docs:{description:{component:"A React component that renders confetti."},preview:{height:"500px"}},controls:{disableSaveFromUI:!0,exclude:["canvasRef"]}},tags:["autodocs"],argTypes:{run:{description:"Whether to run the confetti animation.",control:{type:"boolean"}},recycle:{description:"Whether to recycle confetti pieces back into the active `numberOfPieces` when they exit the canvas.",control:{type:"boolean"}},gravity:{control:{type:"range",min:-1,max:1,step:.001}},numberOfPieces:{control:{type:"range",min:0,max:1e3,step:1}},wind:{control:{type:"range",min:-1,max:1,step:.001}},initialVelocityX:{control:{type:"range",min:0,max:5,step:.001}},initialVelocityY:{control:{type:"range",min:0,max:5,step:.001}},opacity:{control:{type:"range",min:0,max:1,step:.01}},canvasRef:{control:{disable:!0}}}},D={name:"Default",render:i=>{const{width:e,height:t}=z();return y.createElement("div",{style:{minHeight:200}},y.createElement(S,{...i,width:e,height:t}))},args:{run:!0,recycle:!0,numberOfPieces:200,gravity:.1,wind:0,opacity:1,initialVelocityX:2,initialVelocityY:2}},C={name:"Mouse Rain",render:i=>y.createElement(ze,{...i}),args:{run:!0,recycle:!0,numberOfPieces:100,gravity:.1,wind:0,opacity:1,initialVelocityX:2,initialVelocityY:5}},j={render:()=>y.createElement(Qe,null),parameters:{layout:"fullscreen",controls:{disable:!0,include:[]}}};function Tt(i){const e=this.numPoints||G(3,4)*2;this.numPoints=e;const t=this.radius*.2,n=this.radius*.8;i.beginPath(),i.moveTo(0,0-n);for(let o=1;o<e*2;o++){const r=o%2===0?n:t,a=r*Math.sin(o*Math.PI/e),s=-1*r*Math.cos(o*Math.PI/e);i.lineTo(a,s)}i.fill(),i.stroke(),i.closePath()}const T={render:i=>y.createElement("div",{style:{minHeight:200}},y.createElement(K,{drawShape:Tt,colors:["#AEE1FF","#CBDDF8"],gravity:.03,wind:.01,...i})),parameters:{layout:"fullscreen"}};function Ft(i){const e=this.numPoints||G(4,6);this.numPoints=e;const t=this.w,n=t/2;i.beginPath(),i.moveTo(0,0-t);for(let o=1;o<e*2;o++){const r=o%2===0?t:n,a=r*Math.sin(o*Math.PI/e),s=-1*r*Math.cos(o*Math.PI/e);i.lineTo(a,s)}i.fill(),i.closePath()}const F={render:i=>y.createElement("div",{style:{minHeight:200}},y.createElement(K,{drawShape:Ft,...i})),parameters:{layout:"fullscreen"}};var oe,ae,se;D.parameters={...D.parameters,docs:{...(oe=D.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  name: 'Default',
  render: args => {
    const {
      width,
      height
    } = useWindowSize();
    return <div style={{
      minHeight: 200
    }}>
        <ReactConfetti {...args} width={width} height={height} />
      </div>;
  },
  args: {
    run: true,
    recycle: true,
    numberOfPieces: 200,
    gravity: 0.1,
    wind: 0,
    opacity: 1,
    initialVelocityX: 2,
    initialVelocityY: 2
  }
}`,...(se=(ae=D.parameters)==null?void 0:ae.docs)==null?void 0:se.source}}};var ce,ue,fe;C.parameters={...C.parameters,docs:{...(ce=C.parameters)==null?void 0:ce.docs,source:{originalSource:`{
  name: 'Mouse Rain',
  render: args => {
    return <MouseRain {...args} />;
  },
  args: {
    run: true,
    recycle: true,
    numberOfPieces: 100,
    gravity: 0.1,
    wind: 0,
    opacity: 1,
    initialVelocityX: 2,
    initialVelocityY: 5
  }
}`,...(fe=(ue=C.parameters)==null?void 0:ue.docs)==null?void 0:fe.source}}};var le,he,pe;j.parameters={...j.parameters,docs:{...(le=j.parameters)==null?void 0:le.docs,source:{originalSource:`{
  render: () => <PartyMode />,
  parameters: {
    layout: 'fullscreen',
    controls: {
      disable: true,
      include: []
    }
  }
}`,...(pe=(he=j.parameters)==null?void 0:he.docs)==null?void 0:pe.source}}};var de,ye,me;T.parameters={...T.parameters,docs:{...(de=T.parameters)==null?void 0:de.docs,source:{originalSource:`{
  render: args => <div style={{
    minHeight: 200
  }}>
      <SizedConfetti drawShape={drawSnowflake} colors={['#AEE1FF', '#CBDDF8']} gravity={0.03} wind={0.01} {...args} />
    </div>,
  parameters: {
    layout: 'fullscreen'
  }
}`,...(me=(ye=T.parameters)==null?void 0:ye.docs)==null?void 0:me.source}}};var ve,ge,we;F.parameters={...F.parameters,docs:{...(ve=F.parameters)==null?void 0:ve.docs,source:{originalSource:`{
  render: args => <div style={{
    minHeight: 200
  }}>
      <SizedConfetti drawShape={drawStar} {...args} />
    </div>,
  parameters: {
    layout: 'fullscreen'
  }
}`,...(we=(ge=F.parameters)==null?void 0:ge.docs)==null?void 0:we.source}}};const qt=["Default","MouseRainStory","Party","Snow","Stars"];export{D as Default,C as MouseRainStory,j as Party,T as Snow,F as Stars,qt as __namedExportsOrder,Yt as default};
